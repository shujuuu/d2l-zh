---
id: qnni5
name: testing morse should have it's own doc
file_version: 1.0.2
app_version: 0.7.4-0
file_blobs:
  chapter_attention-mechanisms/transformer.md: 208e59b1eec7c4e7accc5e476099e6fa959654ab
  chapter_attention-mechanisms/transformer_origin.md: 5bf782832af40f68c886186ac166ff2615db86fb
---

dod:

after committing doc

change local files with the snippets to same commit

<br/>

doc should have outdated docs

<br/>

`width`[<sup id="2hyFKK">â†“</sup>](#f-2hyFKK)
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ğŸ“„ chapter_attention-mechanisms/transformer.md
```markdown
â¬œ 8      Transformerä½œä¸ºç¼–ç å™¨ï¼è§£ç å™¨æ¶æ„çš„ä¸€ä¸ªå®ä¾‹ï¼Œå…¶æ•´ä½“æ¶æ„å›¾åœ¨ :numref:`fig_transformer`ä¸­å±•ç¤ºã€‚æ­£å¦‚æ‰€è§åˆ°çš„ï¼Œtransformeræ˜¯ç”±ç¼–ç å™¨å’Œè§£ç å™¨ç»„æˆçš„ã€‚ä¸ :numref:`fig_s2s_attention_details`ä¸­åŸºäºBahdanauæ³¨æ„åŠ›å®ç°çš„åºåˆ—åˆ°åºåˆ—çš„å­¦ä¹ ç›¸æ¯”ï¼Œtransformerçš„ç¼–ç å™¨å’Œè§£ç å™¨æ˜¯åŸºäºè‡ªæ³¨æ„åŠ›çš„æ¨¡å—å åŠ è€Œæˆçš„ï¼Œæºï¼ˆè¾“å…¥ï¼‰åºåˆ—å’Œç›®æ ‡ï¼ˆè¾“å‡ºï¼‰åºåˆ—çš„*åµŒå…¥*ï¼ˆembeddingï¼‰è¡¨ç¤ºå°†åŠ ä¸Š*ä½ç½®ç¼–ç *ï¼ˆpositional encodingï¼‰ï¼Œå†åˆ†åˆ«è¾“å…¥åˆ°ç¼–ç å™¨å’Œè§£ç å™¨ä¸­ã€‚
â¬œ 9      
â¬œ 10     ![transformeræ¶æ„](../img/transformer.svg)
ğŸŸ© 11     :width:`1000px`
ğŸŸ© 12     :label:`fig_transformer`
â¬œ 13     
â¬œ 14     å›¾ :numref:`fig_transformer`ä¸­æ¦‚è¿°äº†transformerçš„æ¶æ„ã€‚ä»å®è§‚è§’åº¦æ¥çœ‹ï¼Œtransformerçš„ç¼–ç å™¨æ˜¯ç”±å¤šä¸ªç›¸åŒçš„å±‚å åŠ è€Œæˆçš„ï¼Œæ¯ä¸ªå±‚éƒ½æœ‰ä¸¤ä¸ªå­å±‚ï¼ˆå­å±‚è¡¨ç¤ºä¸º$\mathrm{sublayer}$ï¼‰ã€‚ç¬¬ä¸€ä¸ªå­å±‚æ˜¯*å¤šå¤´è‡ªæ³¨æ„åŠ›*ï¼ˆmulti-head self-attentionï¼‰æ±‡èšï¼›ç¬¬äºŒä¸ªå­å±‚æ˜¯*åŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œ*ï¼ˆpositionwise feed-forward networkï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨è®¡ç®—ç¼–ç å™¨çš„è‡ªæ³¨æ„åŠ›æ—¶ï¼ŒæŸ¥è¯¢ã€é”®å’Œå€¼éƒ½æ¥è‡ªå‰ä¸€ä¸ªç¼–ç å™¨å±‚çš„è¾“å‡ºã€‚å— :numref:`sec_resnet`ä¸­æ®‹å·®ç½‘ç»œçš„å¯å‘ï¼Œæ¯ä¸ªå­å±‚éƒ½é‡‡ç”¨äº†*æ®‹å·®è¿æ¥*ï¼ˆresidual connectionï¼‰ã€‚åœ¨transformerä¸­ï¼Œå¯¹äºåºåˆ—ä¸­ä»»ä½•ä½ç½®çš„ä»»ä½•è¾“å…¥$\mathbf{x} \in \mathbb{R}^d$ï¼Œéƒ½è¦æ±‚æ»¡è¶³$\mathrm{sublayer}(\mathbf{x}) \in \mathbb{R}^d$ï¼Œä»¥ä¾¿æ®‹å·®è¿æ¥æ»¡è¶³$\mathbf{x} + \mathrm{sublayer}(\mathbf{x}) \in \mathbb{R}^d$ã€‚åœ¨æ®‹å·®è¿æ¥çš„åŠ æ³•è®¡ç®—ä¹‹åï¼Œç´§æ¥ç€åº”ç”¨*å±‚è§„èŒƒåŒ–*ï¼ˆlayer normalizationï¼‰ :cite:`Ba.Kiros.Hinton.2016`ã€‚å› æ­¤ï¼Œè¾“å…¥åºåˆ—å¯¹åº”çš„æ¯ä¸ªä½ç½®ï¼Œtransformerç¼–ç å™¨éƒ½å°†è¾“å‡ºä¸€ä¸ª$d$ç»´è¡¨ç¤ºå‘é‡ã€‚
â¬œ 15     
```

<br/>


<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ğŸ“„ chapter_attention-mechanisms/transformer.md
```markdown
â¬œ 109    
â¬œ 110    ```{.python .input}
â¬œ 111    #@tab tensorflow
ğŸŸ© 112    ffn = PositionWiseFFN(4, 8)
ğŸŸ© 113    ffn(tf.ones((2, 3, 4)))[0]
â¬œ 114    ```
â¬œ 115    
â¬œ 116    ## æ®‹å·®è¿æ¥å’Œå±‚è§„èŒƒåŒ–
```

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ğŸ“„ chapter_attention-mechanisms/transformer.md
```markdown
â¬œ 95     ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºï¼Œ[**æ”¹å˜å¼ é‡çš„æœ€é‡Œå±‚ç»´åº¦çš„å°ºå¯¸**]ï¼Œä¼šæ”¹å˜æˆåŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œçš„è¾“å‡ºå°ºå¯¸ã€‚å› ä¸ºç”¨åŒä¸€ä¸ªå¤šå±‚æ„ŸçŸ¥æœºå¯¹æ‰€æœ‰ä½ç½®ä¸Šçš„è¾“å…¥è¿›è¡Œå˜æ¢ï¼Œæ‰€ä»¥å½“æ‰€æœ‰è¿™äº›ä½ç½®çš„è¾“å…¥ç›¸åŒæ—¶ï¼Œå®ƒä»¬çš„è¾“å‡ºä¹Ÿæ˜¯ç›¸åŒçš„ã€‚
â¬œ 96     
â¬œ 97     ```{.python .input}
ğŸŸ© 98     ffn = PositionWiseFFN(4, 8)
ğŸŸ© 99     ffn.initialize()
ğŸŸ© 100    ffn(np.ones((2, 3, 4)))[0]
â¬œ 101    ```
â¬œ 102    
â¬œ 103    ```{.python .input}
```

<br/>

`minute_transformer`[<sup id="ZL7Wel">â†“</sup>](#f-ZL7Wel) \`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ğŸ“„ chapter_attention-mechanisms/transformer_origin.md
```markdown
â¬œ 1      # Transformer
ğŸŸ© 2      :label:`minute_transformer`
â¬œ 3      
â¬œ 4      
â¬œ 5      We have compared CNNs, RNNs, and self-attention in
```

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-ZL7Wel">minute_transformer</span>[^](#ZL7Wel) - "chapter_attention-mechanisms/transformer_origin.md" L2
```markdown
:label:`minute_transformer`
```

<span id="f-2hyFKK">width</span>[^](#2hyFKK) - "chapter_attention-mechanisms/transformer.md" L11
```markdown
:width:`1000px`
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm-web-app.web.app/repos/Z2l0aHViJTNBJTNBZDJsLXpoJTNBJTNBc2h1anV1dQ==/docs/qnni5).